"use strict";function emailValidation(){var e,a=$("input[name=customer_id]").val(),t=SITE_URL+"/email-valid-customer",i=$("#email").val(),l=$("#token").val();return validateEmail(i)&&($("#val_email").html(""),$.ajax({url:t,data:{_token:l,email:i,customerId:a},type:"POST",success:function(a){"true"!=a?($("#val_email").css("display","block").text(jsLang("This email is already existed.")),$("#submitBtn").on("click",function(e){e.preventDefault()}),e=0):($("#val_email").html(""),$("#submitBtn").off("click"),e=1)},error:function(e,a,t){return 0}})),e}if($(".main-body .page-wrapper").find("#lead-container").length||(jQuery.validator.addMethod("regxEmailValidation",function(e,a){return this.optional(a)||validateEmail(e)},jsLang("Enter a valid email")),jQuery.validator.addMethod("regxPhone",function(e,a){var t=new RegExp(/^((\+\d{1,4}(-| )?\(?\d\)?(-| )?\d{1,9})|(\(?\d{2,9}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/),i=new RegExp(/^[+0-9 () \-]{8,20}$/);return this.optional(a)||t.test(e)||i.test(e)},jsLang("Enter a valid phone number"))),$(".error").hide(),$("input").on("keyup",function(){$(this).valid()}),$(".main-body .page-wrapper").find("#lead-container").length&&($(".selectpicker").selectpicker({noneSelectedText:jsLang("All Lead Status")}),$("body").tooltip({selector:'[data-toggle="tooltip"]'}),$(document).on("click","#csv, #pdf",function(e){e.preventDefault(),window.location=SITE_URL+"/leads-list-"+this.id+"?from="+$("#startfrom").val()+"&to="+$("#endto").val()+"&assignee="+$("#assignee").val()+"&leadSource="+$("#leadSource").val()+"&leadStatus="+$("#leadStatus").val()}),$("#dataTableBuilder").addClass("lead-list")),$(".main-body .page-wrapper").find("#leadEdit-container").length){$(".select").select2({}).on("change",function(){$(this).valid()}),$(".js-example-responsive").select2({tags:!0}),$("#leadEdit").validate({rules:{lead_status:{required:!0},lead_source:{required:!0},first_name:{required:!0},assigned:{required:!0},phone:{regxPhone:!0},last_name:{required:!0}}}),$("#lead_status").attr("disabled",!0);var status=$("#lead_status :selected").val();""==status&&$("#lead_status").val(1).trigger("change"),$("#tags").hide()}($(".main-body .page-wrapper").find("#leadEdit-container").length||$(".main-body .page-wrapper").find("#leadAdd-container").length)&&(""!=$("#contact_date").val()?$("#contact_date").daterangepicker(dateSingleConfig($("#contact_date").val())):($("#contact_date").daterangepicker(dateSingleConfig()),$("#contact_date").val("")),$("#email").on("blur",function(){$("#val_email").html(""),""!=$(this).val()?emailValidation():$("#submitBtn").off("click")}),$("#email").on("keyup",function(){null==$("#email-error").val()&&$("#val_email").html("")})),$(".main-body .page-wrapper").find("#leadAdd-container").length&&($(".select").select2({}).on("change",function(){$(this).valid()}),$(".js-example-responsive").select2({tags:!0}),$("#leadAdd").validate({rules:{lead_status:{required:!0},lead_source:{required:!0},assigned:{required:!0},phone:{regxPhone:!0},first_name:{required:!0},last_name:{required:!0},email:{regxEmailValidation:!0}}}),$("#btnSubmit").on("click",function(){1==$("#leadAdd").valid()&&($(".spinner").show().css("line-height","0"),$("#spinnerText").text(jsLang("Please wait...")),$(this).attr("disabled",!0),$("#leadAdd").trigger("submit"))})),$(".main-body .page-wrapper").find("#convert-customer-container").length&&($(".js-example-basic-single").select2(),$(".error").hide(),$("#copy").on("click",function(){$("#ship_street").val($("#bill_street").val()),$("#ship_city").val($("#bill_city").val()),$("#ship_state").val($("#bill_state").val()),$("#ship_zipCode").val($("#bill_zipCode").val());var e=$("#bill_country_id").val();$("#ship_country_id").val(e).trigger("change")}),$("#customerAdd").validate({rules:{first_name:{required:!0},last_name:{required:!0},email:{regxEmailValidation:!0},phone:{required:!1,regxPhone:!0},currency_id:{required:!0}},highlight:function(){$('[href="#home"]').tab("show")}}),$("#email").on("blur",function(){$("#val_email").html(""),""!=$(this).val()?emailValidation():$("#btnSubmit").off("click")}),$("#email").on("keyup",function(){null==$("#email-error").val()&&$("#val_email").html("")}),$("#currency_id").on("change",function(){$("#currency_id_error").text("")}),$("#submit").on("click",function(e){var a=$("#first_name").val(),t=$("#last_name").val(),i=$("#currency_id").val();""!=a&&""!=t&&""!=i||($("#home").addClass("active show"),$('[href="#home"]').tab("show").addClass("active"),$("#profile").removeClass("active show"),$("#home").attr("aria-labelledby").val("home-tab"),e.preventDefault())}));