"use strict";if($(".main-body .page-wrapper").find("#knowledge-container-index").length&&($("body").tooltip({selector:'[data-toggle="tooltip"]'}),$(document).on("click","#csv, #pdf",function(e){e.preventDefault(),window.location=SITE_URL+"/knowledge-base/"+this.id+"?group_id="+$("#group_id").val()+"&status="+$("#status").val()+"&from="+$("#startfrom").val()+"&to="+$("#endto").val()}),$("#dataTableBuilder").addClass("knowledge-list")),$(".main-body .page-wrapper").find("#knowledge-container").length){var editorDescription;function btnSubmit(e){1==$(e).valid()&&($(".spinner").show().css("line-height","0"),$("#spinnerText").text(jsLang("Please wait...")),$(this).attr("disabled",!0),$(e).trigger("submit"))}ClassicEditor.create(document.querySelector("#description")).then(e=>{editorDescription=e,theEditor=intialData=e.getData(),e.model.document.on("change",()=>{let t=intialData=e.getData();if(t=t.replace(/&nbsp;/g,"").replace("<p>","").replace("</p>","").replace(/^\s+|\s+$/g,""),theEditor=t,0==t.length)return $("#description-error").show().html(jsLang("This field is required.")),!1;$("#description-error").hide().html("")})}).catch(e=>{}),$(".select2").select2(),$("#knowledgeAdd").validate({rules:{subject:{required:!0,maxlength:290},group_id:{required:!0}}}),$("#knowledgeEdit").validate({rules:{subject:{required:!0,maxlength:290},slug:{required:!0,maxlength:290},group_id:{required:!0}}}),$("#btnSubmit").on("click",function(){btnSubmit("#knowledgeAdd")}),$("#btnUpdate").on("click",function(){btnSubmit("#knowledgeEdit")}),$(document).on("keyup","#subject",function(){var e=this.value.replace(/[&\/\\#@,+()$~%.'":*?<>{}]/g,"");$("#slug").val(e.trim().toLowerCase().replace(/\s/g,"-"))}),$(document).on("keyup","#slug",function(){var e=this.value.replace(/[&\/\\#@,+()$~%.'":*?<>{}]/g,"");$("#slug").val(e.trim().toLowerCase().replace(/\s/g,"-"))})}
