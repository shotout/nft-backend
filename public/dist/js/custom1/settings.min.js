"use strict";function readURL(e){e.files&&e.files[0]&&(new FileReader).readAsDataURL(e.files[0])}function myFunction(e){e.matches?($("#cardRightButton").prev().css({display:"block"}),$("#cardRightButton").addClass("row").css({display:"block",float:"left",position:"relative",right:"-20px"})):($("#cardRightButton").prev().css({display:"inline-block"}),$("#cardRightButton").removeClass("row").css({display:"inline-block",float:"right",position:"absolute",right:"10px"}))}if($(document).on("init.dt",function(){$(".dataTables_length").remove(),$("#dataTableBuilder").removeAttr("style")}),$(window).on("load",function(){$(window).width()>575&&$(window).width()<800&&$("#company-settings-container #siteshortlabel").addClass("pb-0 pt-0"),$("#company-settings-container #pro_img").is(":visible")&&$("#company-settings-container #iconTop").css("cssText","margin-top: -1.5rem !important;")}),$(".main-body .page-wrapper").find("#company-settings-container").length){$(".js-example-basic-single").select2(),jQuery.validator.addMethod("regxEmailValidation",function(e,t){return this.optional(t)||validateEmail(e)},jsLang("Enter a valid email")),$("#dflt_lang").on("change",function(){var e=$("#dflt_lang option:selected").attr("data-rel");$.ajax({url:SITE_URL+"/languages/translation/"+e,type:"get",data:{_token:token}})}),$("#settingForm").validate({rules:{company_name:{required:!0,normalizer:function(e){return e.trim()}},company_email:{required:!0,regxEmailValidation:!0},company_phone:{required:!0,regxPhone:!0},company_city:{required:!0,normalizer:function(e){return e.trim()}},company_state:{required:!0,normalizer:function(e){return e.trim()}},company_country:{required:!0}},submitHandler:function(){return 1!=imageInvalid&&1!=imageInvalidFavicon}});var logoExists=$("#logoCompany").find("img").length;0==logoExists?$("#iconTop").css("margin-top","4%"):$("#iconTop").css("margin-top","-3%");var iconExists=$("#iconCompany").find("img").length;0==iconExists?$("#addTop").css("margin-top","10%"):$("#addTop").css("margin-top","0"),$("#btnSubmit").on("click",function(){return swal({icon:"success",title:jsLang("This option is not available on demo version."),buttons:[!1,jsLang("Ok")]}),!1}),$(document).on("change","#company_logo",function(){$("#pro_img").is(":visible")?($("#getBottomMargin").css("margin-bottom","0%"),$(".invalidSpan").is(":visible")?($("#logoCompany").css("margin-top","10%"),$("#getBottomMargin").css("margin-bottom","5%")):$("#logoCompany").css("margin-top","2%")):$(".invalidSpan").is(":visible")?($("#getBottomMargin").css("margin-bottom","10%"),$("#logoCompany").css("margin-top","10%")):$("#getBottomMargin").css("margin-bottom","0%")}),$(document).on("change","#company_icon",function(){$("#pro_icon").is(":visible")&&($(".invalidIconSpan").is(":visible")?($("#iconTop").css("margin-bottom","5%"),$("#iconCompany").css("margin-top","4%")):$("#iconCompany").css("margin-top","-4%"))}),$(".remove_img_preview").on("click",function(){var e=$("#company_logo").attr("data-rel");e&&$.ajax({url:SITE_URL+"/company/image_delete",type:"post",data:{_token:token,company_logo:e},dataType:"json",success:function(e){1==e.success?(swal({icon:"success",title:e.message,buttons:[!1,jsLang("Ok")]}),$("#logoCompany").remove()):swal({icon:"success",title:e.message,buttons:[!1,jsLang("Ok")]})}})});var imageInvalid=0,imageInvalidFavicon=0;$("#company_logo").on("change",function(){for(var e=[],t=0;t<$(this)[0].files.length;t++)e.push($(this)[0].files[t].name);$(this).next(".custom-file-label").html(e.join(", "));var a=this.files[0].type;$.inArray(a,["image/jpg","image/jpeg","image/png"])<0?($("#note_txt_1, .logo-picture-2").hide(),$("#note_txt_2").html('<h6> <span class="text-danger font-weight-bolder invalidSpan f-11 display_inline_block">'+jsLang("Invalid Image type!")+'</span> </h6> <span class="badge badge-danger" id="abc">'+jsLang("Note")+"! </span> "+jsLang("Allowed File Extensions: jpg, jpeg, png")),$("#note_txt_2").show(),imageInvalid=1):(imageInvalid=0,$("#note_txt_2").hide(),$("#note_txt_1, .logo-picture-2").show(),readURL(this))}),$(".remove_icon_preview").on("click",function(){var e=$("#company_icon").attr("data-icon");e&&$.ajax({url:SITE_URL+"/company/icon_delete",type:"post",data:{_token:token,company_icon:e},dataType:"json",success:function(e){1==e.success?(swal({icon:"success",title:e.message}),$("#iconCompany").remove()):swal({icon:"success",title:e.message})}})}),$("#company_icon").on("change",function(){for(var e=[],t=0;t<$(this)[0].files.length;t++)e.push($(this)[0].files[t].name);$(this).next(".custom-file-label").html(e.join(", "));var a=this.files[0].type;$.inArray(a,["image/x-icon"])<0?($("#note_txt_3").hide(),$("#note_txt_4").html('<h6> <span class="text-danger font-weight-bolder invalidIconSpan f-11">'+jsLang("Invalid Icon type!")+'</span> </h6> <span class="badge badge-danger">'+jsLang("Note")+"! </span> "+jsLang("Allowed File Extensions: ico")),$("#note_txt_4").show(),$(".logo-picture-1").hide(),imageInvalidFavicon=1):(imageInvalidFavicon=0,$("#note_txt_4").hide(),$("#note_txt_3, .logo-picture-1").show(),readURL(this))}),$("#company_name").on("blur",function(){if(""==$(this).val())$("#site_short_name").val("");else{var e=$(this).val().split(" ");1==e.length?$("#site_short_name").val(e[0][0].toUpperCase()+e[0][1].toUpperCase()):2==e.length?$("#site_short_name").val(e[0][0].toUpperCase()+e[1][0].toUpperCase()):$("#site_short_name").val(e[0][0].toUpperCase()+e[1][0].toUpperCase()+e[2][0].toUpperCase())}}),jQuery.validator.addMethod("regxPhone",function(e,t){var a=new RegExp(/^((\+\d{1,4}(-| )?\(?\d\)?(-| )?\d{1,9})|(\(?\d{2,9}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/),n=new RegExp(/^[+0-9 () \-]{8,20}$/);return this.optional(t)||a.test(e)||n.test(e)},jsLang("Enter a valid phone number"))}if($("input").on("keyup",function(){$(this).valid()}),$(".main-body .page-wrapper").find("#department-settings-container").length&&($("#dataTableBuilder").DataTable({columnDefs:[{targets:1,orderable:!1}],language:{url:app_locale_url},pageLength:row_per_page}),$(document).on("click",".department_edit",function(){var e=$(this).attr("id");$("#depart_id").val($(this).attr("id")),$.ajax({url:SITE_URL+"/edit-department",data:{_token:token,id:e},type:"POST",dataType:"JSON",success:function(e){$("#name").val(e.name),$("#department_edit").modal()}})}),$("#myform1").validate({rules:{name:{required:!0,remote:SITE_URL+"/department-valid",normalizer:function(e){return e.trim()}}}}),$("#editDept").validate({rules:{name:{required:!0,remote:{url:SITE_URL+"/department-valid",type:"GET",data:{deptID:function(){return $("input[name=depart_id]").val()}}},normalizer:function(e){return e.trim()}}}}),$("#add-department").on("hidden.bs.modal",function(e){$(this).find("input[name=name]").val(""),$("#myform1").validate().resetForm(),$("input[name=name]").removeClass("error")}),$("#department_edit").on("show.bs.modal",function(e){$("#editDept").validate().resetForm(),$("input[name=name]").removeClass("error")}),$("#confirmDelete").on("show.bs.modal",function(e){var t=$(e.relatedTarget),a=$(this);$("#confirmDeleteSubmitBtn").attr("data-task","").removeClass("delete-task-btn"),"Delete"==t.data("label")&&(a.find("#confirmDeleteSubmitBtn").addClass("delete-task-btn").attr("data-task",t.data("id")).text(jsLang("Delete")).show(),a.find("#confirmDeleteLabel").text(t.data("title")),a.find(".modal-body").text(t.data("message"))),$("#confirmDeleteSubmitBtn").on("click",function(){$("#delete-dept-"+$(this).data("task")).trigger("submit")})})),$(".main-body .page-wrapper").find("#role-settings-container").length){$("#dataTableBuilder").DataTable({columnDefs:[{targets:3,orderable:!1}],language:{url:app_locale_url},pageLength:row_per_page}),$(".btn-group").hide(),$("#confirmDelete").on("show.bs.modal",function(e){var t=$(e.relatedTarget),a=$(this);$("#confirmDeleteSubmitBtn").attr("data-task","").removeClass("delete-task-btn"),"Delete"==t.data("label")&&(a.find("#confirmDeleteSubmitBtn").addClass("delete-task-btn").attr("data-task",t.data("id")).text(jsLang("Delete")).show(),a.find("#confirmDeleteLabel").text(t.data("title")),a.find(".modal-body").text(t.data("message"))),$("#confirmDeleteSubmitBtn").on("click",function(){$("#delete-role-"+$(this).data("task")).trigger("submit")})});var x=window.matchMedia("(max-width: 850px)");myFunction(x),x.addEventListener("load",myFunction),$("#dataTableBuilder").addClass("user-role")}if($(".main-body .page-wrapper").find("#roleAdd-settings-container").length&&($("#dataTableBuilder").DataTable({autoWidth:!1,columnDefs:[{width:"350px",targets:0},{width:"350px",targets:1,orderable:!1},{width:"350px",targets:2,orderable:!1},{width:"350px",targets:3,orderable:!1},{width:"350px",targets:4,orderable:!1},{width:"350px",targets:5,orderable:!1}],paging:!1,searching:!1,info:!1}),$.validator.setDefaults({errorPlacement:function(e,t){t.is(":checkbox")?$(".errors").html(e):e.insertAfter(t)}}),$("#addRole").validate({rules:{name:{required:!0,remote:SITE_URL+"/role-valid",normalizer:function(e){return e.trim()}},display_name:{required:!0,normalizer:function(e){return e.trim()}},description:{required:!0,normalizer:function(e){return e.trim()}},"permissions[]":{required:!0,minlength:1}},messages:{"permissions[]":{required:'<span class="f-12">'+jsLang("Please give at least one permission")+"</span>"}}}),$(document).on("ifChanged",".view-check",function(e){var t=$(this).is(":checked"),a=$(this).attr("status"),n=$(this).attr("key");$(this).attr("id");1==t&&"view"==a?$("#own_view_"+n).iCheck("disable"):0==t&&"view"==a?$("#own_view_"+n).iCheck("enable"):1==t&&"own_view"==a?$("#view_"+n).iCheck("disable"):0==t&&"own_view"==a&&$("#view_"+n).iCheck("enable")})),$(".main-body .page-wrapper").find("#roleEdit-settings-container").length&&($("#dataTableBuilder").DataTable({autoWidth:!1,columnDefs:[{width:"350px",targets:0},{width:"350px",targets:1,orderable:!1},{width:"350px",targets:2,orderable:!1},{width:"350px",targets:3,orderable:!1},{width:"350px",targets:4,orderable:!1},{width:"350px",targets:5,orderable:!1}],paging:!1,info:!1}),$("#dataTableBuilder_filter").remove(),$.validator.setDefaults({errorPlacement:function(e,t){"checkbox"===t.prop("type")?$(".errors").html(e):e.insertAfter(t)}}),$("#addRole").validate({rules:{name:{required:!0,remote:{url:SITE_URL+"/role-valid",type:"get",data:{role_id:function(){return $("input[name=id]").val()}}},normalizer:function(e){return e.trim()}},display_name:{required:!0,normalizer:function(e){return e.trim()}},description:{required:!0,normalizer:function(e){return e.trim()}},"permissions[]":{required:!0,minlength:1}},messages:{"permissions[]":{required:'<span class="f-12">'+jsLang("Please give at least one permission")+"</span>"}}}),$(".view-check").on("ifChanged",function(e){var t=$(this).is(":checked"),a=$(this).attr("status"),n=$(this).attr("key");$(this).attr("id");1==t&&"view"==a?$("#own_view_"+n).iCheck("disable"):0==t&&"view"==a?$("#own_view_"+n).iCheck("enable"):1==t&&"own_view"==a?$("#view_"+n).iCheck("disable"):0==t&&"own_view"==a&&$("#view_"+n).iCheck("enable")})),$(".main-body .page-wrapper").find("#location-settings-container").length&&($("#dataTableBuilder").DataTable({columnDefs:[{targets:5,orderable:!1}],language:{url:app_locale_url},pageLength:row_per_page}),$("#confirmDelete").on("show.bs.modal",function(e){var t=$(e.relatedTarget),a=$(this);$("#confirmDeleteSubmitBtn").attr("data-task","").removeClass("delete-task-btn"),"Delete"==t.data("label")&&(a.find("#confirmDeleteSubmitBtn").addClass("delete-task-btn").attr("data-task",t.data("id")).text(jsLang("Delete")).show(),a.find("#confirmDeleteLabel").text(t.data("title")),a.find(".modal-body").text(t.data("message"))),$("#confirmDeleteSubmitBtn").on("click",function(){$("#delete-location-"+$(this).data("task")).trigger("submit")})}),$(".btn-group").hide(),$("#dataTableBuilder").addClass("location")),$(".main-body .page-wrapper").find("#locationAdd-settings-container").length){let e;$(".js-example-basic-single").select2(),$("#loc_code").on("keyup",function(){e=$("#loc_code").val()}),$("#myform1").validate({rules:{location_name:{required:!0,normalizer:function(e){return e.trim()}},loc_code:{required:!0,remote:SITE_URL+"/loc_code-valid",normalizer:function(e){return e.trim()}},delivery_address:{required:!0,normalizer:function(e){return e.trim()}},phone:{required:!1,regxPhone:!0},fax:{required:!1,regxFax:!0},email:{required:!1,regxEmail:!0}}}),jQuery.validator.addMethod("regxPhone",function(e,t){var a=new RegExp(/^((\+\d{1,4}(-| )?\(?\d\)?(-| )?\d{1,9})|(\(?\d{2,9}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/),n=new RegExp(/^[+0-9 () \-]{8,20}$/);return this.optional(t)||a.test(e)||n.test(e)},jsLang("Enter a valid phone number")),jQuery.validator.addMethod("regxFax",function(e,t){var a=new RegExp(/^(\+?\d{1,}(\s?|\-?)\d*(\s?|\-?)\(?\d{2,}\)?(\s?|\-?)\d{3,}\s?\d{3,})$/);return this.optional(t)||a.test(e)},jsLang("Enter a valid fax number")),jQuery.validator.addMethod("regxEmail",function(e,t){var a=new RegExp(/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/);return this.optional(t)||a.test(e)},jsLang("Enter a valid email"))}if($(".main-body .page-wrapper").find("#locationEdit-settings-container").length){let e=$("input[name=loc_code]").attr("location-data");$(".js-example-basic-single").select2(),$("#myform1").validate({rules:{location_name:{required:!0,normalizer:function(e){return e.trim()}},loc_code:{required:!0,remote:SITE_URL+"/loc_code-valid?locID="+e,normalizer:function(e){return e.trim()}},delivery_address:{required:!0,normalizer:function(e){return e.trim()}},phone:{required:!1,regxPhone:!0},fax:{required:!1,regxFax:!0},email:{required:!1,regxEmail:!0}}}),jQuery.validator.addMethod("regxPhone",function(e,t){var a=new RegExp(/^((\+\d{1,4}(-| )?\(?\d\)?(-| )?\d{1,9})|(\(?\d{2,9}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/),n=new RegExp(/^[+0-9 () \-]{8,20}$/);return this.optional(t)||a.test(e)||n.test(e)},jsLang("Enter a valid phone number")),jQuery.validator.addMethod("regxFax",function(e,t){var a=new RegExp(/^(\+?\d{1,}(\s?|\-?)\d*(\s?|\-?)\(?\d{2,}\)?(\s?|\-?)\d{3,}\s?\d{3,})$/);return this.optional(t)||a.test(e)},jsLang("Enter a valid fax!")),jQuery.validator.addMethod("regxEmail",function(e,t){var a=new RegExp(/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/);return this.optional(t)||a.test(e)},jsLang("Enter a valid email"))}