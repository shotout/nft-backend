"use strict";if(1!=$(".main-body .page-wrapper").find("#sales-report-datewise,#purchase-report-datewise").length&&$(".select2").select2(),$(".main-body .page-wrapper").find("#expense-report-container").length&&($("#startfrom").daterangepicker(reportDateConfig(startDate),function(e,a){var t=moment(e,"MMMM D, YYYY").format("MMMM-YYYY");$("#startfrom").val(t)}),$("#endto").daterangepicker(reportDateConfig(endDate),function(e,a){var t=moment(e,"MMMM D, YYYY").format("MMMM-YYYY");$("#endto").val(t)}),$(".btn-group").remove(),$(".dataTables_length").remove(),$("#expenseList_paginate, #expenseList_info").remove()),$(".main-body .page-wrapper").find("#inc-vs-exp-report").length){$("#startfrom").daterangepicker(reportDateConfig(startDate),function(e,a){var t=moment(e,"MMMM D, YYYY").format("MMMM-YYYY");$("#startfrom").val(t)}),$("#endto").daterangepicker(reportDateConfig(endDate),function(e,a){var t=moment(e,"MMMM D, YYYY").format("MMMM-YYYY");$("#endto").val(t)});var revenue=$("#revenue").val(),income=$("#income").val(),expense=$("#expense").val();$("#totalIncome").text(income),$("#totalExpense").text(expense),$("#totalRevenue").text(revenue);var sign=$("#sign").val(),bar=document.getElementById("chart-line-1").getContext("2d"),data1={labels:JSON.parse(dateGraph),datasets:[{label:"Income",data:JSON.parse(incomeGraph),fill:!1,borderWidth:4,borderColor:"#17a2b8",backgroundColor:"#17a2b8",hoverborderColor:"#17a2b8",hoverBackgroundColor:"#17a2b8"},{label:"Expense",data:JSON.parse(expenseGraph),fill:!1,borderWidth:4,borderColor:"#899FD4",backgroundColor:"#899FD4",hoverborderColor:"#899FD4",hoverBackgroundColor:"#899FD4"},{label:"Revenue",data:JSON.parse(revenueGraph),fill:!1,borderWidth:4,borderColor:"#28a745",backgroundColor:"#28a745",hoverborderColor:"#28a745",hoverBackgroundColor:"#28a745"}]},myBarChart=new Chart(bar,{type:"line",data:data1,responsive:!0,options:{barValueSpacing:20,maintainAspectRatio:!1}})}if($(".main-body .page-wrapper").find("#expense-report-container").length){$("#startfrom").daterangepicker(reportDateConfig(startDate),function(e,a){var t=moment(e,"MMMM D, YYYY").format("MMMM-YYYY");$("#startfrom").val(t)}),$("#endto").daterangepicker(reportDateConfig(endDate),function(e,a){var t=moment(e,"MMMM D, YYYY").format("MMMM-YYYY");$("#endto").val(t)}),$(".btn-group").remove(),$(".dataTables_length").remove(),$("#expenseList_paginate, #expenseList_info").remove();var MONTHS=new Array;if($.each(months,function(e,a){MONTHS.push(a)}),null!=MONTHS||0!=MONTHS.length){var config={type:"line",data:{labels:MONTHS,datasets:expenseData},options:{responsive:!0,title:{display:!1,text:""},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:""}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}},ctx=document.getElementById("chartJsLineBasic").getContext("2d");window.myLine=new Chart(ctx,config)}}if($(".main-body .page-wrapper").find("#income-report-container").length){$("#startfrom").daterangepicker(reportDateConfig(startDate),function(e,a){var t=moment(e,"MMMM D, YYYY").format("MMMM-YYYY");$("#startfrom").val(t)}),$("#endto").daterangepicker(reportDateConfig(endDate),function(e,a){var t=moment(e,"MMMM D, YYYY").format("MMMM-YYYY");$("#endto").val(t)}),$("#startfrom").on("click",function(){var e=$("#startfrom").val().split("-"),a=getMonthNumber(e[0]);$(".ui-datepicker-month").val(a-1),$(".ui-datepicker-year").val(e[1])}),$("#endto").on("click",function(){var e=$("#endto").val().split("-"),a=getMonthNumber(e[0]);$(".ui-datepicker-month").val(a-1),$(".ui-datepicker-year").val(e[1])}),$(".date-pick").on("click",function(){$(".ui-priority-secondary").remove()}),$(".btn-group").remove(),$(".dataTables_length").remove(),$("#incomeList_paginate, #incomeList_info").remove();MONTHS=new Array;if($.each(months,function(e,a){MONTHS.push(a)}),null!=MONTHS||0!=MONTHS.length){config={type:"line",data:{labels:MONTHS,datasets:incomeData},options:{responsive:!0,title:{display:!1,text:""},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:""}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}},ctx=document.getElementById("chartJsLineBasic").getContext("2d");window.myLine=new Chart(ctx,config)}}if($(".main-body .page-wrapper").find("#list-layout-container").length){function changeProductInput(){var e=$("#type").val();"product"==e?($("#product_div").show(),$("#service_div").hide()):"service"==e&&($("#product_div").hide(),$("#service_div").show())}function getUrlVars(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,t,r){e[t]=r});return e}function isEmpty(e){for(var a in e)if(e.hasOwnProperty(a))return!1;return!0}$("#searchType").on("change",function(){var e=$(this).val();"custom"==e?($(".dateField").show(),$(".yearField, .monthField").hide()):"yearly"==e?($(".dateField").hide(),$(".yearField").show(),$("#year option:selected").removeAttr("selected"),$("#year").val("all").trigger("change")):"custom"!=e&&"yearly"!=e&&$(".dateField, .yearField, .monthField").hide()}),$("#year").on("change",function(){var e=$(this).val();$("#month").val("all").trigger("change"),"all"!=e?$(".monthField").show():$(".monthField").hide()}),$(document).ready(function(){$(".barChart").removeAttr("style"),$(".dateField, .yearField, .monthField").hide();var e=$("#searchType").val(),a=$("#year").val();$("#month").val();"custom"==e?($(".dateField").show(),$(".yearField, .monthField").hide()):"yearly"==e&&($(".yearField").show(),$(".dateField").hide(),"all"!=a&&$(".monthField").show()),$("#on_sale_msg").insertBefore($("#dataTableBuilder_info"))}),$(window).on("load",function(){changeProductInput()}),$("#type").on("change",function(){changeProductInput()}),$("#currency").on("change",function(){var e=$(this).val(),a=SITE_URL+"/report/sales-report/get-customer",t=t;$.ajax({url:a,method:"POST",data:{currency:e,_token:t},dataType:"json",success:function(e){1==e.status&&$("#customer").html(e.customers)}})}),$(document).on("click","#pdf",function(e){e.preventDefault();var a;a=getUrlVars();var t=isEmpty(a)?$("#from").val():a.from,r=isEmpty(a)?$("#to").val():a.to,o=isEmpty(a)?$("#searchType").val():a.searchType,n=isEmpty(a)?"null":a.currency,l=isEmpty(a)?"null":a.customer,i=isEmpty(a)?"null":a.location,s=isEmpty(a)?"null":a.month,d=isEmpty(a)?"null":a.product,c=isEmpty(a)?"null":a.service,p=isEmpty(a)?"null":a.type,m=isEmpty(a)?"null":a.year;window.location=SITE_URL+"/report/sales-report-pdf?from="+t+"&to="+r+"&searchType="+o+"&year="+m+"&month="+s+"&type="+p+"&product="+d+"&service="+c+"&location="+i+"&currency="+n+"&customer="+l}),$(document).on("click","#csv",function(e){e.preventDefault();var a;a=getUrlVars();var t=isEmpty(a)?$("#from").val():a.from,r=isEmpty(a)?$("#to").val():a.to,o=isEmpty(a)?$("#searchType").val():a.searchType,n=isEmpty(a)?"null":a.currency,l=isEmpty(a)?"null":a.customer,i=isEmpty(a)?"null":a.location,s=isEmpty(a)?"null":a.month,d=isEmpty(a)?"null":a.product,c=isEmpty(a)?"null":a.service,p=isEmpty(a)?"null":a.type,m=isEmpty(a)?"null":a.year;window.location=SITE_URL+"/report/sales-report-csv?from="+t+"&to="+r+"&searchType="+o+"&year="+m+"&month="+s+"&type="+p+"&product="+d+"&service="+c+"&location="+i+"&currency="+n+"&customer="+l}),$(document).ready(function(){var e=$("#sign").val(),a=document.getElementById("chart-line-1").getContext("2d"),t={labels:JSON.parse(date),datasets:[{label:"Sales ("+e+totalActualSale+")",data:JSON.parse(sale),fill:!1,borderWidth:4,borderColor:"#17a2b8",backgroundColor:"#17a2b8",hoverborderColor:"#17a2b8",hoverBackgroundColor:"#17a2b8"},{label:"Purchase ("+e+totalPurchase+")",data:JSON.parse(purchase),fill:!1,borderWidth:4,borderColor:"#899FD4",backgroundColor:"#899FD4",hoverborderColor:"#899FD4",hoverBackgroundColor:"#899FD4"},{label:"Profit ("+e+totalProfitAmount+")",data:JSON.parse(profit),fill:!1,borderWidth:4,borderColor:"#28a745",backgroundColor:"#28a745",hoverborderColor:"#28a745",hoverBackgroundColor:"#28a745"},{label:"Tax ("+e+totalSaleTax+")",data:JSON.parse(tax),fill:!1,borderWidth:4,borderColor:"#fd7e14",backgroundColor:"#fd7e14",hoverborderColor:"#fd7e14",hoverBackgroundColor:"#fd7e14"}]};new Chart(a,{type:"line",data:t,responsive:!0,options:{barValueSpacing:20,maintainAspectRatio:!1}})}),$("#dataTableBuilder").addClass("sale-report")}if($(".main-body .page-wrapper").find("#card-with-header-buttons").length&&$(function(){$(".select2").select2({}),$(document).on("click","#pdf",function(e){e.preventDefault(),window.location=SITE_URL+"/report/inventory-stock-on-hand-pdf?type="+$("#category").val()+"&location="+$("#location").val()}),$(document).on("click","#csv",function(e){e.preventDefault(),window.location=SITE_URL+"/report/inventory-stock-on-hand-csv?type="+$("#category").val()+"&location="+$("#location").val()}),$(document).on("click","#tablereload",function(e){e.preventDefault(),$("#dataTableBuilder").DataTable().ajax.reload()}),$(document).on("click",".close",function(e){$("#on_hand_msg").remove()})}),$(".main-body .page-wrapper").find("#leads-report-container").length&&($(".select2").select2(),$(function(){$("#startfrom").daterangepicker(reportDateConfig(startDate),function(e,a){var t=moment(e,"MMMM D, YYYY").format("MMMM-YYYY");$("#startfrom").val(t)}),$("#endto").daterangepicker(reportDateConfig(endDate),function(e,a){var t=moment(e,"MMMM D, YYYY").format("MMMM-YYYY");$("#endto").val(t)})}),$("#startfrom").on("click",function(){var e=$("#startfrom").val().split("-"),a=getMonthNumber(e[0]);$(".ui-datepicker-month").val(a-1),$(".ui-datepicker-year").val(e[1])}),$("#endto").on("click",function(){var e=$("#endto").val().split("-"),a=getMonthNumber(e[0]);$(".ui-datepicker-month").val(a-1),$(".ui-datepicker-year").val(e[1])}),$(".date-pick").on("click",function(){$(".ui-priority-secondary").remove()}),$(window).on("load",function(){var e=$(window).width();if(e>767&&($("#smallDevice").removeClass("col-sm-12"),$("#smallDevice-2").removeClass("col-sm-12"),$("#smallDevicePx").removeClass("px-0"),$("#smallDevicePx-2").removeClass("px-0"),$("#smallDevicePx").addClass("pr-0"),$("#smallDevicePx-2").addClass("pr-0"),$("#smallDevice").addClass("row"),$("#smallDevice-2").addClass("row"),null!=MONTHS||0!=MONTHS.length)){var a={type:"line",data:{labels:MONTHS,datasets:leadDataByStatus},options:{responsive:!0,legend:{display:!1},maintainAspectRatio:!0,aspectRatio:2,title:{display:!1,text:""},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:""}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}},t=document.getElementById("chartJsLineBasic").getContext("2d");window.myLine=new Chart(t,a)}if(e<767&&($("#smallDevicePx").removeClass("pr-0"),$("#smallDevicePx-2").removeClass("pr-0"),$("#smallDevice").removeClass("col-sm-12"),$("#smallDevice-2").removeClass("col-sm-12"),$("#smallDevicePx").removeClass("px-0"),$("#smallDevicePx").addClass("pr-0"),$("#smallDevice").addClass("row"),$("#smallDevice-2").addClass("row")),e<576&&($("#removeBorder>div").removeClass("border border-top-0 border-bottom-0 border border-left-0"),$("#smallDevice").removeClass("col-sm-12"),$("#smallDevice-2").removeClass("col-sm-12"),$("#smallDevice").addClass("row"),$("#smallDevice-2").addClass("row"),$("#smallDevicePx").removeClass("pr-0"),$("#smallDevicePx-2").removeClass("pr-0"),null!=MONTHS||0!=MONTHS.length)){a={type:"line",data:{labels:MONTHS,datasets:leadData},options:{responsive:!0,legend:{display:!1},maintainAspectRatio:!0,aspectRatio:1,title:{display:!1,text:""},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:""}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}},t=document.getElementById("chart-pie-3").getContext("2d");window.myLine=new Chart(t,a)}}),$(document).ready(function(){var e=document.getElementsByClassName("chartPieStatus")[0].getContext("2d"),a={labels:labelsLeadByStatus,datasets:[{data:countsLeadByStatus,backgroundColor:colorsLeadByStatus,hoverBackgroundColor:colorsLeadByStatus}]};new Chart(e,{type:"pie",data:a,responsive:!0,options:{maintainAspectRatio:!1,legend:{display:!1}}}),e=document.getElementsByClassName("chartPieSource")[0].getContext("2d"),a={labels:labelsLeadBySource,datasets:[{data:countsLeadBySource,backgroundColor:colorsLeadBySource,hoverBackgroundColor:colorsLeadBySource}]},new Chart(e,{type:"pie",data:a,responsive:!0,options:{maintainAspectRatio:!1,legend:{display:!1}}})})),$(".main-body .page-wrapper").find("#orderListFilter").length){function getUrlVars(){var e={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,t,r){e[t]=r});return e}function isEmpty(e){for(var a in e)if(e.hasOwnProperty(a))return!1;return!0}if($(function(){$(".barChart").show(),$("#searchType").on("change",function(){var e=$(this).val();"custom"==e?($(".dateField").show(),$(".yearField, .monthField").hide()):"custom"!=e&&"yearly"==e?($(".dateField").hide(),$(".yearField").show(),$("#year option:selected").removeAttr("selected"),$("#year").val("all").trigger("change")):"custom"!=e&&"yearly"!=e&&$(".dateField, .yearField, .monthField").hide()}),$("#year").on("change",function(){var e=$(this).val();$("#month").val("all").trigger("change"),"all"!=e?$(".monthField").show():$(".monthField").hide()})}),$(document).ready(function(){$(".dateField").hide(),$(".yearField, .monthField").hide();var e=$("#searchType").val(),a=$("#year").val();$("#month").val();"custom"==e?($(".dateField").show(),$(".yearField").hide(),$(".monthField").hide()):"yearly"==e&&($(".yearField").show(),$(".dateField").hide(),"all"!=a&&$(".monthField").show())}),$(document).on("click","#pdf",function(e){e.preventDefault();var a;if(a=getUrlVars(),isEmpty(a)){var t=$("#from").val(),r=$("#to").val(),o=$("#searchType").val(),n="null",l="null",i="null",s="null",d="null",c="null",p="null",m="null";window.location=SITE_URL+"/report/purchase-report-pdf?from="+t+"&to="+r+"&searchType="+o+"&year="+m+"&month="+s+"&type="+p+"&product="+d+"&service="+c+"&location="+i+"&currency="+n+"&supplier="+l}else{t=a.from,r=a.to,o=a.searchType,n=a.currency,l=a.supplier,i=a.location,s=a.month,d=a.product,c=a.service,p=a.type,m=a.year;window.location=SITE_URL+"/report/purchase-report-pdf?from="+t+"&to="+r+"&searchType="+o+"&year="+m+"&month="+s+"&type="+p+"&product="+d+"&service="+c+"&location="+i+"&currency="+n+"&supplier="+l}}),$(document).on("click","#csv",function(e){e.preventDefault();var a;if(a=getUrlVars(),isEmpty(a)){var t=$("#from").val(),r=$("#to").val(),o=$("#searchType").val(),n="null",l="null",i="null",s="null",d="null",c="null",p="null",m="null";window.location=SITE_URL+"/report/purchase-report-csv?from="+t+"&to="+r+"&searchType="+o+"&year="+m+"&month="+s+"&type="+p+"&product="+d+"&service="+c+"&location="+i+"&currency="+n+"&supplier="+l}else{t=a.from,r=a.to,o=a.searchType,n=a.currency,l=a.supplier,i=a.location,s=a.month,d=a.product,c=a.service,p=a.type,m=a.year;window.location=SITE_URL+"/report/purchase-report-csv?from="+t+"&to="+r+"&searchType="+o+"&year="+m+"&month="+s+"&type="+p+"&product="+d+"&service="+c+"&location="+i+"&currency="+n+"&supplier="+l}}),$(window).on("load",function(){$(window).width()<768&&($(".monthField").removeClass("mb-2"),$(".monthField").addClass("maginNegetive15"),$(".yearField").removeClass("mb-2"),$(".yearField").addClass("maginNegetive15"))}),$(".main-body .page-wrapper").find("#ChartJsExpense").length){var theme_g2=(bar=document.getElementById("chartJsBar").getContext("2d")).createLinearGradient(0,300,0,0);theme_g2.addColorStop(0,"#899FD4"),theme_g2.addColorStop(1,"#A389D4");data1={labels:dates,datasets:[{label:jsLang("Purchases"),data:costs,borderColor:theme_g2,backgroundColor:theme_g2,hoverborderColor:theme_g2,hoverBackgroundColor:theme_g2}]},myBarChart=new Chart(bar,{type:"bar",data:data1,options:{barValueSpacing:20,scales:{yAxes:[{ticks:{beginAtZero:!0}}],xAxes:[{ticks:{minRotation:30,maxRotation:45}}]}}})}}$(".main-body .page-wrapper").find("#sales-report-datewise").length&&$(function(){$("#salesList").DataTable({responsive:!0,language:{url:app_locale_url},paging:!1,info:!1,ordering:!1})}),$(".main-body .page-wrapper").find("#purchase-report-datewise").length&&($(function(){"after"==symbol_position?grandTotalTax+=currencySymbol:grandTotalTax=currencySymbol+grandTotalTax,$("#grand-total-tax").text(grandTotalTax),$("#grand-total-qty").text(grandTotalQuantity)}),$(function(){$("#purchaseList").DataTable({responsive:!0,language:{url:app_locale_url},paging:!1,info:!1,ordering:!1})}));