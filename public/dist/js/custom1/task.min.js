"use strict";function refreshAutoComplete(){$("#assignee").html("");$("#autoCompleteInput").remove();var e=$("#search");e.remove(),$("#relatedToDiv").append('<input class="form-control auto col-sm-12 ui-autocomplete-input" placeholder="Search" id="search" autocomplete="off">');e.autocomplete({delay:500,position:{my:"left top",at:"left bottom",collision:"flip"},source:function(t,a){$.ajax({url:SITE_URL+"/task/related-search",dataType:"json",type:"POST",data:{_token:token,search:t.term,relatedTo:$("#related_to").val()},success:function(t){if(1==t.status_no){t=t.result;$("#no_div").css("display","none"),a($.map(t,function(e){return{id:e.id,subject:e.subject,value:e.name,chargeType:e.chargeType}}))}else $(".ui-menu-item").remove(),$("#no_div").css({top:e.position().top+35,left:e.position().left,width:e.width(),display:"block"})}})},select:function(t,a){var s=a.item;if(""!=s.chargeType&&(3==s.chargeType?$("#hourly_rate_div").css("display","flex"):$("#hourly_rate_div").css("display","none")),s.id){var o=`<p id="autoCompleteInput"><span class="badge badge-secondary f-16 mt-1">${s.value}<i class="fa fa-times ml-2 cursor_pointer" title=${jsLang("Remove")} onclick="javascript: autoCompleteRefresh()"></i></span><input type="hidden" name="relatedTo" value="${$("#related_to").val()}"><input type="hidden" name="relatedId" id="relatedId" value="${s.id}"></p>`;if(e.hide(),$("#relatedToDiv").html(o),1==$("#related_to").val()){$("#assignee").select2("val","");var n=$("#relatedId").val();getMilestone(n);$.ajax({url:SITE_URL+"/project/task/get_rest_assignee",method:"POST",data:{project_id:n,task_id:null,_token:token},dataType:"json",success:function(e){if(1==e.project_member_status){var t='<option value=""> '+jsLang("Select Assignee")+"</option>";for(let t=0;t<e.project_member.length;++t)if(e.project_member[t].user_id==loggedUserId)var a=!0;a?$("#assign_me").show():$("#assign_me").hide(),$.each(e.project_member,function(e,a){t+='<option value="'+a.user_id+'">'+a.user_name+"</option>"}),$("#assignee").html(t)}else $("#assignee").html('<option value="">'+jsLang("No member found")+"</option>")}})}else $("#assignee").val("").trigger("change"),$.ajax({url:SITE_URL+"/project/task/get_all_user",method:"GET",data:{task_id:null,_token:token},dataType:"json",success:function(e){if(1==e.status){var t='<option value=""> '+jsLang("Select Assignee")+"</option>";$.each(e.users,function(e,a){t+='<option value="'+a.id+'">'+a.full_name+"</option>"}),$("#assignee").html(t)}else $("#assignee").html('<option value="">'+jsLang("No memeber found")+"</option>")}})}},minLength:1})}function autoCompleteRefresh(){if($("#assignee").html(""),1==$("#autoCompleteInput").length){$("#autoCompleteInput").remove(),$("#search").remove(),$("#relatedToDiv").append('<input class="form-control auto col-sm-12 ui-autocomplete-input" placeholder="Search Here" id="search" autocomplete="off">')}else $("#showPrevious").remove(),$("#addRelatedTo").css("display","flex");1==$("#related_to").val()?$(".searchSpan").text(jsLang("Project")):2==$("#related_to").val()?$(".searchSpan").text(jsLang("Customer")):$(".searchSpan").text(jsLang("Ticket"));$("#search").autocomplete({delay:500,position:{my:"left top",at:"left bottom",collision:"flip"},source:function(e,t){$.ajax({url:SITE_URL+"/task/related-search",dataType:"json",type:"POST",data:{_token:token,search:e.term,relatedTo:$("#related_to").val()},success:function(e){if(1==e.status_no){e=e.result;$("#no_div").css("display","none"),t($.map(e,function(e){return{id:e.id,subject:e.subject,value:e.name,chargeType:e.chargeType}}))}else $(".ui-menu-item").remove(),$("#no_div").css("top",$("#search").position().top+35),$("#no_div").css("left",$("#search").position().left),$("#no_div").css("width",$("#search").width()),$("#no_div").css("display","block")}})},select:function(e,t){var a=t.item;if(""!=a.chargeType&&(3==a.chargeType?$("#hourly_rate_div").css("display","flex"):$("#hourly_rate_div").css("display","none")),a.id){var s=`<p id="autoCompleteInput"><span class="badge badge-secondary f-16 mt-1">${a.value}<i class="fa fa-times ml-2 cursor_pointer" title=${jsLang("Remove")} onclick="javascript: autoCompleteRefresh()"></i></span><input type="hidden" name="relatedTo" value="${$("#related_to").val()}"><input type="hidden" name="relatedId" id="relatedId" value="${a.id}"></p>`;if($("#search").hide(),$("#relatedToDiv").html(s),1==$("#related_to").val()){$("#assignee").select2("val","");var o=$("#relatedId").val();getMilestone(o);var n=SITE_URL+"/project/task/get_rest_assignee";$.ajax({url:n,method:"POST",data:{project_id:o,task_id:null,_token:token},dataType:"json",success:function(e){if(1==e.project_member_status){var t='<option value=""> '+jsLang("Select Assignee")+"</option>";for(let t=0;t<e.project_member.length;++t)if(e.project_member[t].user_id==loggedUserId)var a=!0;a?$("#assign_me").show():$("#assign_me").hide(),$.each(e.project_member,function(e,a){t+='<option value="'+a.user_id+'">'+a.user_name+"</option>"}),$("#assignee").html(t)}else $("#assignee").html('<option value="">'+jsLang("No member found")+"</option>")}})}else{n=SITE_URL+"/project/task/get_all_user";$("#assignee").val("").trigger("change"),$.ajax({url:n,method:"GET",data:{task_id:null,_token:token},dataType:"json",success:function(e){if(1==e.status){var t='<option value=""> '+jsLang("Select Assignee")+"</option>";$.each(e.users,function(e,a){t+='<option value="'+a.id+'">'+a.full_name+"</option>"}),$("#assignee").html(t)}else $("#assignee").html('<option value="">'+jsLang("No member found")+"</option>")}})}}},minLength:1})}function changeRelatedField(){var e=$("#related_to").val();"1"==e?$("#milestone_div, #hourly_rate_div").css("display","flex"):"2"!=e&&"3"!=e&&""!=e||($("#milestone_div").css("display","none"),$("#hourly_rate_div").css("display","flex"))}function getMilestone(e){$.ajax({url:SITE_URL+"/project/task/get-milestone",method:"POST",data:{project_id:e,_token:token},dataType:"json",success:function(e){1==e.status&&$("#milestone").html(e.output)}})}function addTodoItem(){var e=$("#myInput").val();return""===e?(swal(jsLang("Empty checklist"),{icon:"error",buttons:[!1,jsLang("Ok")]}),!1):e.length<5?(swal(jsLang("Too Short checklist"),{icon:"error",buttons:[!1,jsLang("Ok")]}),!1):void $.ajax({url:SITE_URL+"/task/checklist",data:{todoItem:e,_token:_token},type:"POST",dataType:"JSON",success:function(e){if(1==e.status){var t=e.value,a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("id",t),a.setAttribute("value",t),a.setAttribute("name","allCheckListHiidenInput[]"),document.getElementById("checklistCollector").appendChild(a),$("#myUL").append("<li id='"+t+"'>"+t+" <span class='todo-item-delete text-c-red f-18' id='"+t+"'><i class='feather icon-trash-2'></i></span></li>"),$("#myInput").val("")}}})}function deleteTodoItem(e,t){e.preventDefault();for(var a=document.getElementById("checklistCollector").getElementsByTagName("input"),s=0;s<a.length;s++)a[s].value==t.id&&a[s].remove();$(t).parent().fadeOut("fast",function(){$(t).parent().remove()})}if($(".main-body .page-wrapper").find("#add-task-container").length&&($(".error").hide(),$("#taskForm").validate({rules:{task_name:{required:!0},related_to:{required:!0},task_details:{required:!0},hourly_rate:{required:!0}}}),$(".js-example-responsive").select2({tags:!0}),$("#startDate").daterangepicker(dateSingleConfig()),$("#dueDate").daterangepicker(dateSingleConfig()),$("#dueDate").val(""),$(document).on("change","#startDate, #dueDate",function(){var e=$("#startDate").val(),t=$("#dueDate").val();""!=e&&""!=t&&(Date.parse(e)>Date.parse(t)?$("#due_date-error").html(jsLang("The due date cannot be before the start date.")).css("display","block"):$("#due_date-error").html("").css("display","none"))}),$("#priority,#custom_repet").select2(),$("#assignee").select2({placeholder:jsLang("Select Assignee")}),$("#related_to").select2({placeholder:jsLang("Nothing Selected")}),$("#milestone").select2({placeholder:jsLang("Nothing Selected")}),$(window).on("load",function(){changeRelatedField()}),$("#related_to").on("change",function(){changeRelatedField(),refreshAutoComplete()}),$("#assign_me").on("click",function(){var e=$("#assignee").val();e.push(loggedUserId),$("#assignee").val(e).trigger("change")}),$(document).on("change","#assignee",function(){var e=$("#assignee").val();0==jQuery.inArray(loggedUserId,e)?$("#assign_me").hide():-1==jQuery.inArray(loggedUserId,e)&&$("#assign_me").show()}),$("#related_to").on("change",function(){if(""!=$(this).val()){$("#related_to_error").css("display","none");var e=1==$(this).val()?"Project":2==$(this).val()?"Customer":"Ticket";$(".searchSpan").text(jsLang(e)),$("#addRelatedTo").css("display","flex");$("#search").autocomplete({delay:500,position:{my:"left top",at:"left bottom",collision:"flip"},source:function(e,t){$.ajax({url:SITE_URL+"/task/related-search",dataType:"json",type:"POST",data:{_token:token,search:e.term,relatedTo:$("#related_to").val()},success:function(e){if(1==e.status_no){e=e.result;$("#no_div").css("display","none"),t($.map(e,function(e){return{id:e.id,subject:e.subject,value:e.name,chargeType:e.chargeType}}))}else $(".ui-menu-item").remove(),$("#no_div").css({top:$("#search").position().top+35,left:$("#search").position().left,width:$("#search").width(),display:"block"})}})},select:function(e,t){var a=t.item;if(""!=a.chargeType){var s=3==a.chargeType?"flex":"none";$("#hourly_rate_div").css("display",s)}if(a.id){var o=`<p id="autoCompleteInput"><span class="badge badge-secondary f-16 mt-1">${a.value}<i class="fa fa-times ml-2 cursor_pointer" title=${jsLang("Remove")} onclick="javascript: autoCompleteRefresh()"></i></span><input type="hidden" name="relatedTo" value="${$("#related_to").val()}"><input type="hidden" name="relatedId" id="relatedId" value="${a.id}"></p>`;if($("#search").hide(),$("#relatedToDiv").html(o),1==$("#related_to").val()){$("#assignee").select2("val","");var n=$("#relatedId").val();getMilestone(n);$.ajax({url:SITE_URL+"/project/task/get_rest_assignee",method:"POST",data:{project_id:n,task_id:null,_token:token},dataType:"json",success:function(e){if(1==e.project_member_status){var t='<option value=""> '+jsLang("Select Assignee")+"</option>";for(let t=0;t<e.project_member.length;++t)if(e.project_member[t].user_id==loggedUserId)var a=!0;a?$("#assign_me").show():$("#assign_me").hide(),$.each(e.project_member,function(e,a){t+='<option value="'+a.user_id+'">'+a.user_name+"</option>"}),$("#assignee").html(t)}else $("#assignee").html('<option value="">'+jsLang("No memeber found")+"</option>")}})}else $("#assignee").val("").trigger("change"),$.ajax({url:SITE_URL+"/project/task/get_all_user",method:"GET",data:{task_id:null,_token:token},dataType:"json",success:function(e){if(1==e.status){var t='<option value=""> '+jsLang("Select Assignee")+"</option>";$.each(e.users,function(e,a){t+='<option value="'+a.id+'">'+a.full_name+"</option>"}),$("#assignee").html(t)}else $("#assignee").html('<option value="">'+jsLang("No memeber found")+"</option>")}})}},minLength:1})}else $("#related_to_error").css("display","block"),$("#addRelatedTo").css("display","none")}),$("body").on("click",".delete_file_field",function(){$(this).parents(".control-group").remove()}),$(function(){$("#checklistAddBtn").on("click",function(e){e.preventDefault(),addTodoItem()}),$("#myUL").on("click",".todo-item-delete",function(e){deleteTodoItem(e,this)})}),deleteAttachment(SITE_URL+"/file/remove?type=task"),uploadAttachment(SITE_URL+"/file/upload?type=task",$("#uploader-text")),$(window).on("load",function(){$(window).width()<=1e3&&($(".col-sm-10").addClass("col-sm-12").removeClass("col-sm-10"),$(".col-sm-8").addClass("col-sm-10").removeClass("col-sm-8"),$(".col-sm-3").addClass("col-sm-4").removeClass("col-sm-3"))}),$(document).on("click","#btnSubmit",function(){var e=$("#startDate").val(),t=$("#dueDate").val();if(""!=e&&""!=t){if(Date.parse(e)>Date.parse(t))return $("#due_date-error").html(jsLang("The due date cannot be before the start date.")).css("display","block"),$("#dueDate").focus(),!1;$("#due_date-error").html("").css("display","none")}if(1==$("form#taskForm").valid()&&0==$("#search").length&&($(".spinner").show(),$(".spinner").css("line-height","0"),$("#spinnerText").text(jsLang("Please wait...")),$(this).attr("disabled","disabled"),$("form#taskForm").trigger("submit")),$("#search").length){var a="";if(""!=$("#related_to").val())return a=1==$("#related_to").val()?jsLang("Please select the project to create task"):2==$("#related_to").val()?jsLang("Please select the customer to create task"):jsLang("Please select the ticket to create task"),swal(a,{icon:"error",buttons:[!1,jsLang("Ok")]}),!1}})),$(".main-body .page-wrapper").find("#edit-task-container").length){$(".js-example-responsive").select2({tags:!0}),"1"===$("#checkAssignMe").val()&&$("#assign_me").hide();var related_id=$("#related_to").val();function changeRelatedField(){var e=$("#related_to").val();"1"==e?$("#milestone_div, #hourly_rate_div").css("display","flex"):"2"!=e&&"3"!=e&&""!=e||($("#milestone_div").css("display","none"),$("#hourly_rate_div").css("display","flex"))}function getMilestone(e){var t=SITE_URL+"/project/task/get-milestone";$.ajax({url:t,method:"POST",data:{project_id:e,_token:token},dataType:"json",success:function(e){$("#milestone").html(e.output)}})}function addTodoItem(){var e=$("#myInput").val();return""===e?(swal(jsLang("Empty checklist"),{icon:"error",buttons:[!1,jsLang("Ok")]}),!1):e.length<5?(swal(jsLang("Too Short checklist"),{icon:"error",buttons:[!1,jsLang("Ok")]}),!1):void $.ajax({type:"POST",url:SITE_URL+"/checklist_edit/add",token:token,data:{task_id:$("#task_id").val(),title:e,_token:token},dataType:"json",success:function(e){if("success"==e.message){var t="<li class='checkbox checkbox-primary'><input type='checkbox' name='todo-item-done' class='todo-item-done' id='checklist_status_"+e.item.id+"' value='"+e.item.title+"'  /><label for='checklist_status_"+e.item.id+"' class='cr f-12'><span class='checklist_label cursor_text' data-id='"+e.item.id+"' title='Click to edit'>"+e.item.title+"</span><span class='todo-item-delete text-c-red f-18' id='"+e.item.title+"'><i class='feather icon-trash-2'></i></span></label></li>";$("#myUL").append(t),$("#myInput").val("")}else swal(e.message,{icon:"error",buttons:[!1,jsLang("Ok")]})}})}function deleteTodoItem(e,t){swal({title:jsLang("Are you sure?"),text:jsLang("Once deleted, you will not be able to recover this checklist."),icon:"warning",buttons:[jsLang("Cancel"),jsLang("Ok")],dangerMode:!0}).then(e=>{if(e){$(this).parent(),$(".attachment").parent(),$(".attachment-delete").parent();var a=t.id;$.ajax({type:"POST",url:SITE_URL+"/checklist/delete",token:token,data:$(task_form).serialize()+"&id="+a,dataType:"json",success:function(e){if("success"==e.message){for(var a=document.getElementById("checklistCollector").getElementsByTagName("input"),s=0;s<a.length;s++)a[s].value==t.id&&a[s].remove();$(t).parent().fadeOut("fast",function(){$(t).parent().remove()}),swal(jsLang("Success! Checklist has been deleted."),{icon:"success",buttons:[!1,jsLang("Ok")]})}}})}})}function completeTodoItem(){var e=$(this).attr("id");e=e.split("_")[2];var t=$(this).is(":checked");$.ajax({type:"POST",url:SITE_URL+"/checklist/change_status",token:token,data:{id:e,status:t,_token:token},success:function(t){"success"==t.message&&(1==t.item.is_checked?$("span[data-id="+e+"]").addClass("strike"):$("span[data-id="+e+"]").removeClass("strike"))}})}"1"==related_id?3==$("#chargeType").val()?$("#milestone_div, #hourly_rate_div").css("display","flex"):($("#milestone_div").css("display","flex"),$("#hourly_rate_div").css("display","none")):"2"==related_id||"3"==related_id?($("#milestone_div").css("display","none"),$("#hourly_rate_div").css("display","flex")):$("#hourly_rate_div").css("display","none"),$("#task_form").on("submit",function(e){if($("#taskForm .text-danger").remove(),!$("#task_name").val())return $("#task_name").focus(),!1;var t=$("#startDate").val(),a=$("#dueDate").val();if(""!=t&&""!=a){if(Date.parse(t)>Date.parse(a))return $("#due_date-error").html(jsLang("The due date cannot be before the start date.")).css("display","block"),$("#dueDate").focus(),!1;$("#due_date-error").html("").css("display","none")}if(1==$("#search").length&&0==$("#showPrevious").length){var s="";if(""!=$("#related_to").val())return s=1==$("#related_to").val()?jsLang("Please select the project to create task"):2==$("#related_to").val()?jsLang("Please select the customer to create task"):jsLang("Please select the ticket to create task"),swal(s,{icon:"error",buttons:[!1,jsLang("Ok")]}),!1}}),$("#startDate").daterangepicker(dateSingleConfig($("#startDate").val())),""!=$("#dueDate").val()?$("#dueDate").daterangepicker(dateSingleConfig($("#dueDate").val())):($("#dueDate").daterangepicker(dateSingleConfig()),$("#dueDate").val("")),$(".js-example-basic-single").select2(),$("#assignee").select2({placeholder:jsLang("Select assignee")}),$("#milestone").select2({placeholder:jsLang("Nothing selected")}),$("#related_to").select2({}),$("#status").select2({placeholder:jsLang("Nothing selected")}),$("#related_to").on("change",function(){changeRelatedField()}),$(document).on("change","#startDate, #dueDate",function(){var e=$("#startDate").val(),t=$("#dueDate").val();""!=e&&""!=t&&(Date.parse(e)>Date.parse(t)?$("#due_date-error").html(jsLang("The due date cannot be before the start date.")).css("display","block"):$("#due_date-error").html("").css("display","none"))}),$("#assign_me").on("click",function(){var e=[loggedUserId],t=$("#assignee").val();$.each(t,function(t,a){e.push(a)}),$("#assignee").val(e).trigger("change")}),$("#assignee").on("click change",function(){var e=$("#assignee").val();0==jQuery.inArray(loggedUserId,e)?$("#assign_me").hide():0!=jQuery.inArray(loggedUserId,e)&&$("#assign_me").show()}),$("#related_to").on("change",function(){refreshAutoComplete()}),$(document).on("click",".checklist_label",function(){var e=$(this).attr("data-id"),t=$(this).text();if($(".checklist_input").length>0)$(".checklist_input_text").focus();else{var a="<span class='checklist_input'><input class='checklist_input_text' value='"+t+"' type='text' id='"+e+"'></span>";$(this).after(a),$(this).hide(),$(".checklist_input_text").focus()}}),$(document).on("blur",".checklist_input_text",function(){var e=$(this).attr("id"),t=$("#task_id").val(),a=$(this).val();$.ajax({url:SITE_URL+"/checklist/edit",method:"POST",data:{id:e,task_id:t,title:a,_token:token},success:function(t){t<0?swal(jsLang("Checklist already exist"),{icon:"error",buttons:[!1,jsLang("Ok")]}):$("span[data-id="+e+"]").html(t.title),$("span[data-id="+e+"]").show(),$(".checklist_input_text").hide()}})}),$("#related_to").on("change",function(){if(""!=$(this).val()){$("#assignee").html(""),$("#showPrevious").css("display","none"),$("#releted_to").css("display","none"),$("#related_to_error").css("display","none");var e=1==$(this).val()?"Project":2==$(this).val()?"Customer":"Ticket";$(".searchSpan").text(jsLang(e)),$("#addRelatedTo").css("display","flex");$("#search").autocomplete({delay:500,position:{my:"left top",at:"left bottom",collision:"flip"},source:function(e,t){$.ajax({url:SITE_URL+"/task/related-search",dataType:"json",type:"POST",data:{_token:token,search:e.term,relatedTo:$("#related_to").val()},success:function(e){if(1==e.status_no){e=e.result;$("#no_div").css("display","none"),t($.map(e,function(e){return{id:e.id,subject:e.subject,value:e.name,chargeType:e.chargeType}}))}else $(".ui-menu-item").remove(),$("#no_div").css({top:$("#search").position().top+35,left:$("#search").position().left,width:$("#search").width(),display:"block"})}})},select:function(e,t){var a=t.item;if(""!=a.chargeType){var s=3==a.chargeType?"flex":"none";$("#hourly_rate_div").css("display",s)}if(a.id){var o=`<p id="autoCompleteInput"><span class="badge badge-secondary f-16 mt-1">${a.value}<i class="fa fa-times ml-2 cursor_pointer" title=${jsLang("Remove")} onclick="javascript: autoCompleteRefresh()"></i></span><input type="hidden" name="relatedTo" value="${$("#related_to").val()}"><input type="hidden" name="relatedId" id="relatedId" value="${a.id}"></p>`;if($("#search").hide(),$("#relatedToDiv").html(o),1==$("#related_to").val()){$("#assignee").select2("val","");var n=$("#relatedId").val();getMilestone(n);$.ajax({url:SITE_URL+"/project/task/get_rest_assignee",method:"POST",data:{project_id:n,task_id:null,_token:token},dataType:"json",success:function(e){if(1==e.project_member_status){var t='<option value=""> '+jsLang("Select Assignee")+"</option>";for(let t=0;t<e.project_member.length;++t)if(e.project_member[t].user_id==loggedUserId)var a=!0;a?$("#assign_me").show():$("#assign_me").hide(),$.each(e.project_member,function(e,a){t+='<option value="'+a.user_id+'">'+a.user_name+"</option>"}),$("#assignee").html(t)}else $("#assignee").html('<option value="">'+jsLang("No memeber found")+"</option>")}})}else $("#assignee").val("").trigger("change"),$.ajax({url:SITE_URL+"/project/task/get_all_user",method:"GET",data:{task_id:null,_token:token},dataType:"json",success:function(e){if(1==e.status){var t='<option value=""> '+jsLang("Select Assignee")+"</option>";$.each(e.users,function(e,a){t+='<option value="'+a.id+'">'+a.full_name+"</option>"}),$("#assignee").html(t)}else $("#assignee").html('<option value="">'+jsLang("No member found")+"</option>")}})}},minLength:1})}else $("#related_to_error").css("display","block"),$("#addRelatedTo").css("display","none")}),$(function(){$("#checklistAddBtn").on("click",function(e){e.preventDefault(),addTodoItem()}),$("#myUL").on("click",".todo-item-delete",function(e){deleteTodoItem(e,this)}),$(document).on("click",".todo-item-done",completeTodoItem)}),$("#task_form").validate({ignore:".ignore",rules:{task_name:{required:!0},task_details:{required:!0},hourly_rate:{required:!0}}}),$(window).on("load",function(){$(window).width()<=1e3&&($(".col-sm-10").addClass("col-sm-12").removeClass("col-sm-10"),$(".col-sm-8").addClass("col-sm-10").removeClass("col-sm-8"),$(".col-sm-3").addClass("col-sm-4").removeClass("col-sm-3"))})}$(".main-body .page-wrapper").find("#list-task-container").length&&($('[data-toggle="tooltip"]').tooltip(),$("body").tooltip({selector:'[data-toggle="tooltip"]'}),$(".select2").select2(),$("#daterange-btn").daterangepicker(daterangeConfig(startDate,endDate),cbRange),cbRange(startDate,endDate),$(document).on("click","#tablereload",function(e){e.preventDefault(),$("#dataTableBuilder").DataTable().ajax.reload()}),$(document).on("click","#csv",function(e){e.preventDefault(),window.location=SITE_URL+"/project/tasks_csv?from="+$("#startfrom").val()+"&to="+$("#endto").val()+"&project="+$("#project").val()+"&assignee="+$("#assignee").val()+"&status="+$("#status").val()}),$(document).on("click","#pdf",function(e){e.preventDefault(),window.location=SITE_URL+"/project/tasks_pdf?from="+$("#startfrom").val()+"&to="+$("#endto").val()+"&project="+$("#project").val()+"&assignee="+$("#assignee").val()+"&status="+$("#status").val()}),$("#theModal").on("show.bs.modal",function(e){var t=$(e.relatedTarget),a=$(this);$("#theModalSubmitBtn").attr("data-task","").removeClass("delete-task-btn"),"Delete"==t.data("label")?(a.find("#theModalSubmitBtn").addClass("delete-task-btn").attr("data-task",t.data("id")).text(jsLang("Delete")).show(),a.find("#theModalLabel").text(t.data("title")),a.find(".modal-body").text(t.data("message"))):(a.find(".modal-body").html('<div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),a.find(".modal-body").load(t.data("remote")))}),$("#theModalSubmitBtn").on("click",function(){$("#delete-item-"+$(this).data("task")).trigger("submit")}));
